<script setup lang="ts">
import { ref } from "vue";
type Book = {
  id: number;
  title: string;
  author: string;
  description: string;
};
const books = ref<Book[]>([
  {
    id: 1,
    title: "ã“ã“ã‚",
    author: "å¤ªå®°æ²»",
    description: "è‡ªæ®ºã‚’è€ƒãˆã‚‹å…ˆç”Ÿã®ã“ã“ã‚ã®è‘›è—¤ã‚’æã„ãŸå°èª¬",
  },
  {
    id: 2,
    title: "äººé–“å¤±æ ¼",
    author: "å¤ªå®°æ²»",
    description: "äººé–“ã®æœ¬è³ªã‚’å•ã†å°èª¬",
  },
  {
    id: 3,
    title: "å¾è¼©ã¯çŒ«ã§ã‚ã‚‹",
    author: "å¤ªå®°æ²»",
    description: "çŒ«ã®è¦–ç‚¹ã‹ã‚‰äººé–“ç¤¾ä¼šã‚’æã„ãŸå°èª¬",
  },
]);
// é¸æŠã•ã‚ŒãŸæœ¬ã®IDã‚’è¨˜éŒ²
const selectedBookId = ref<number | null>(null);

// ã‚¯ãƒªãƒƒã‚¯æ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹é–¢æ•°ï¼ˆconsoleã«ã‚‚å‡ºåŠ›ï¼‰
function showDescription(id: number, description: string) {
  selectedBookId.value = id;
  console.log(description);
}
</script>

<template>
  <ul>
    <li v-for="book in books" :key="book.id">
      {{ book.title }}. {{ book.author }}
      <button @click="showDescription(book.id, book.description)">
        è©³ç´°ã‚’è¦‹ã‚‹
      </button>
      <span v-if="selectedBookId === book.id"> {{ book.description }}</span>
    </li>
  </ul>
</template>

<!-- 
 åå‰ã‚’åˆ†ã‘ã‚‹
selectedBookId â†’ è¡¨ç¤ºä¸­ã®æœ¬ã®IDï¼ˆçŠ¶æ…‹ï¼‰
showDescription() â†’ ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸæ™‚ã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç† 

ç›®çš„ã®å†ç¢ºèª
ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã¨ãã«ï¼š

è©²å½“ã™ã‚‹æœ¬ã®ã€Œèª¬æ˜ã€ã‚’ console.log ã«å‡ºã—ãŸã„

ãã—ã¦ã€ãã®æœ¬ã®èª¬æ˜ã ã‘ç”»é¢ã«è¡¨ç¤ºã—ãŸã„ï¼ˆä»–ã¯éè¡¨ç¤ºï¼‰

ğŸ‘‡ ã ã‹ã‚‰å¿…è¦ãªã®ãŒ book.id
book.id ã‚’æ¸¡ã™ã“ã¨ã§ï¼š

ã©ã®æœ¬ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‹ã‚’åˆ¤åˆ¥ã§ãã¾ã™ã€‚

è¡¨ç¤ºçŠ¶æ…‹ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã« selectedBookId ã«ä¿å­˜ã™ã‚‹å¿…è¦ãŒã‚ã‚‹

ğŸ’¡ ãªãœ description ã ã‘ã˜ã‚ƒãƒ€ãƒ¡ï¼Ÿ
ãŸã¨ãˆã° showDescription(book.description) ã ã‘ã«ã—ã¦ã—ã¾ã†ã¨â€¦

ç”»é¢ã«è¡¨ç¤ºã™ã‚‹èª¬æ˜ã®æ¡ä»¶ï¼ˆv-ifï¼‰ã«ä½¿ãˆã‚‹ ID æƒ…å ±ãŒå¤±ã‚ã‚Œã¦ã—ã¾ã†
â†’ selectedBookId === book.id ã¨ã„ã†åˆ¤å®šãŒã§ããªã„ï¼



-->
